{"ast":null,"code":"import \"antd-mobile/lib/picker/style/css\";\nimport _Picker from \"antd-mobile/lib/picker\";\nimport \"antd-mobile/lib/list/style/css\";\nimport _List from \"antd-mobile/lib/list\";\nvar _jsxFileName = \"/Users/angentle/Documents/my_Workspace/REACT/isz-h5-hook/src/pages/step2/Step2.js\";\nimport React, { Component } from 'react';\nimport { set, get } from '../../utils/global_data';\nimport Steps from '../../components/steps';\nimport './Step2.scss';\nconst formatSelect = [{\n  label: '初次申请',\n  value: 1\n}, {\n  label: '2年到期审验换证',\n  value: 2\n}, {\n  label: '补发申请',\n  value: 3\n}];\nconst sortSelect = [{\n  label: '驾驶证',\n  value: 1\n}, {\n  label: '丁类证书',\n  value: 2\n}, {\n  label: '培训合格证',\n  value: 3\n}];\nexport default class Step2 extends Component {\n  constructor(props) {\n    super(props);\n    this.sc = window.sc;\n    this.state = {\n      format: 0,\n      //格式\n      sort: 0 //种类\n\n    };\n  }\n\n  componentDidMount() {\n    let form = get('form');\n\n    if (form) {\n      let {\n        format,\n        sort\n      } = form;\n      this.setState({\n        format,\n        sort\n      });\n    }\n  }\n\n  render() {\n    let {\n      format,\n      sort\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"step2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Steps, {\n      activeStep: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Picker, {\n      data: formatSelect,\n      cols: 1,\n      title: \"\\u7533\\u8BF7\\u8BC1\\u4E66\\u683C\\u5F0F\",\n      extra: \"\\u8BF7\\u9009\\u62E9\",\n      value: format ? [format] : [],\n      onChange: v => this.onChange(v, 'format'),\n      className: \"forss\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 72\n      }\n    }, \"*\"), \"\\u7533\\u8BF7\\u8BC1\\u4E66\\u683C\\u5F0F\")), /*#__PURE__*/React.createElement(_Picker, {\n      data: sortSelect,\n      cols: 1,\n      title: \"\\u7533\\u8BF7\\u9002\\u4EFB\\u8BC1\\u4E66\\u79CD\\u7C7B\",\n      extra: \"\\u8BF7\\u9009\\u62E9\",\n      value: sort ? [sort] : [],\n      onChange: v => this.onChange(v, 'sort'),\n      className: \"forss\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(_List.Item, {\n      arrow: \"horizontal\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 72\n      }\n    }, \"*\"), \"\\u7533\\u8BF7\\u9002\\u4EFB\\u8BC1\\u4E66\\u79CD\\u7C7B\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btnsWrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: _ => this.props.history.go(-1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, \"\\u4E0A\\u4E00\\u6B65\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: _ => this.onComfirm(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"\\u4E0B\\u4E00\\u6B65\"))));\n  }\n\n  onComfirm() {\n    let {\n      sc\n    } = this;\n    let {\n      format,\n      sort\n    } = this.state;\n\n    if (!format) {\n      sc.toast({\n        type: 'text',\n        text: '请选择申请证书格式',\n        detailText: ''\n      });\n      return;\n    }\n\n    if (!sort) {\n      sc.toast({\n        type: 'text',\n        text: '请选择申请适任证书种类',\n        detailText: ''\n      });\n      return;\n    }\n\n    let form = get('form');\n\n    if (form) {\n      form.format = format;\n      form.sort = sort;\n      set('form', form);\n    } else {\n      set('form', {\n        format,\n        sort\n      });\n    }\n\n    this.props.history.push('step3');\n  }\n\n  onChange(v, type) {\n    if (v && v.length) {\n      let state = {};\n      state[type] = v[0];\n      this.setState({ ...state\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/angentle/Documents/my_Workspace/REACT/isz-h5-hook/src/pages/step2/Step2.js"],"names":["React","Component","set","get","Steps","formatSelect","label","value","sortSelect","Step2","constructor","props","sc","window","state","format","sort","componentDidMount","form","setState","render","v","onChange","_","history","go","onComfirm","toast","type","text","detailText","push","length"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,GAAT,EAAcC,GAAd,QAAyB,yBAAzB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAO,cAAP;AAGA,MAAMC,YAAY,GAAG,CAAC;AAClBC,EAAAA,KAAK,EAAE,MADW;AAElBC,EAAAA,KAAK,EAAE;AAFW,CAAD,EAGlB;AACCD,EAAAA,KAAK,EAAE,UADR;AAECC,EAAAA,KAAK,EAAE;AAFR,CAHkB,EAMlB;AACCD,EAAAA,KAAK,EAAE,MADR;AAECC,EAAAA,KAAK,EAAE;AAFR,CANkB,CAArB;AAWA,MAAMC,UAAU,GAAG,CAAC;AAChBF,EAAAA,KAAK,EAAE,KADS;AAEhBC,EAAAA,KAAK,EAAE;AAFS,CAAD,EAGhB;AACCD,EAAAA,KAAK,EAAE,MADR;AAECC,EAAAA,KAAK,EAAE;AAFR,CAHgB,EAMhB;AACCD,EAAAA,KAAK,EAAE,OADR;AAECC,EAAAA,KAAK,EAAE;AAFR,CANgB,CAAnB;AAaA,eAAe,MAAME,KAAN,SAAoBR,SAApB,CAA8B;AAEzCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,EAAL,GAAUC,MAAM,CAACD,EAAjB;AACA,SAAKE,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,CADC;AACE;AACXC,MAAAA,IAAI,EAAE,CAFG,CAEA;;AAFA,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAI;AACjB,QAAIC,IAAI,GAAGf,GAAG,CAAC,MAAD,CAAd;;AACA,QAAIe,IAAJ,EAAU;AACN,UAAI;AAAEH,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAmBE,IAAvB;AACA,WAAKC,QAAL,CAAc;AACVJ,QAAAA,MADU;AACFC,QAAAA;AADE,OAAd;AAGH;AACJ;;AAGDI,EAAAA,MAAM,GAAI;AACN,QAAI;AAAEL,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAAmB,KAAKF,KAA5B;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,UAAU,EAAE,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAQ,MAAA,IAAI,EAAET,YAAd;AACI,MAAA,IAAI,EAAE,CADV;AAEI,MAAA,KAAK,EAAC,sCAFV;AAGI,MAAA,KAAK,EAAC,oBAHV;AAII,MAAA,KAAK,EAAEU,MAAM,GAAG,CAACA,MAAD,CAAH,GAAc,EAJ/B;AAKI,MAAA,QAAQ,EAAEM,CAAC,IAAI,KAAKC,QAAL,CAAcD,CAAd,EAAiB,QAAjB,CALnB;AAMI,MAAA,SAAS,EAAC,OANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOI,0BAAM,IAAN;AAAW,MAAA,KAAK,EAAC,YAAjB;AAA8B,MAAA,SAAS,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA+C;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA/C,yCAPJ,CAFJ,eAWI;AAAQ,MAAA,IAAI,EAAEb,UAAd;AACI,MAAA,IAAI,EAAE,CADV;AAEI,MAAA,KAAK,EAAC,kDAFV;AAGI,MAAA,KAAK,EAAC,oBAHV;AAII,MAAA,KAAK,EAAEQ,IAAI,GAAG,CAACA,IAAD,CAAH,GAAY,EAJ3B;AAKI,MAAA,QAAQ,EAAEK,CAAC,IAAI,KAAKC,QAAL,CAAcD,CAAd,EAAiB,MAAjB,CALnB;AAMI,MAAA,SAAS,EAAC,OANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOI,0BAAM,IAAN;AAAW,MAAA,KAAK,EAAC,YAAjB;AAA8B,MAAA,SAAS,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA+C;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA/C,qDAPJ,CAXJ,CAFJ,eAyBI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,KAAlB;AAAwB,MAAA,OAAO,EAAEE,CAAC,IAAI,KAAKZ,KAAL,CAAWa,OAAX,CAAmBC,EAAnB,CAAsB,CAAC,CAAvB,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAII;AAAQ,MAAA,SAAS,EAAC,KAAlB;AAAwB,MAAA,OAAO,EAAEF,CAAC,IAAI,KAAKG,SAAL,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJJ,CADJ,CAzBJ,CADJ;AAuCH;;AAEDA,EAAAA,SAAS,GAAI;AACT,QAAI;AAAEd,MAAAA;AAAF,QAAS,IAAb;AACA,QAAI;AAAEG,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAAmB,KAAKF,KAA5B;;AACA,QAAI,CAACC,MAAL,EAAa;AACTH,MAAAA,EAAE,CAACe,KAAH,CAAS;AACLC,QAAAA,IAAI,EAAE,MADD;AAELC,QAAAA,IAAI,EAAE,WAFD;AAGLC,QAAAA,UAAU,EAAE;AAHP,OAAT;AAKA;AACH;;AAED,QAAI,CAACd,IAAL,EAAW;AACPJ,MAAAA,EAAE,CAACe,KAAH,CAAS;AACLC,QAAAA,IAAI,EAAE,MADD;AAELC,QAAAA,IAAI,EAAE,aAFD;AAGLC,QAAAA,UAAU,EAAE;AAHP,OAAT;AAKA;AACH;;AACD,QAAIZ,IAAI,GAAGf,GAAG,CAAC,MAAD,CAAd;;AACA,QAAIe,IAAJ,EAAU;AACNA,MAAAA,IAAI,CAACH,MAAL,GAAcA,MAAd;AACAG,MAAAA,IAAI,CAACF,IAAL,GAAYA,IAAZ;AAEAd,MAAAA,GAAG,CAAC,MAAD,EAASgB,IAAT,CAAH;AACH,KALD,MAKO;AACHhB,MAAAA,GAAG,CAAC,MAAD,EAAS;AACRa,QAAAA,MADQ;AACAC,QAAAA;AADA,OAAT,CAAH;AAGH;;AAED,SAAKL,KAAL,CAAWa,OAAX,CAAmBO,IAAnB,CAAwB,OAAxB;AACH;;AACDT,EAAAA,QAAQ,CAAED,CAAF,EAAKO,IAAL,EAAW;AACf,QAAIP,CAAC,IAAIA,CAAC,CAACW,MAAX,EAAmB;AACf,UAAIlB,KAAK,GAAG,EAAZ;AACAA,MAAAA,KAAK,CAACc,IAAD,CAAL,GAAcP,CAAC,CAAC,CAAD,CAAf;AACA,WAAKF,QAAL,CACI,EAAE,GAAGL;AAAL,OADJ;AAGH;AAEJ;;AA5GwC","sourcesContent":["import React, { Component } from 'react'\nimport { Picker, List } from 'antd-mobile';\nimport { set, get } from '../../utils/global_data'\nimport Steps from '../../components/steps'\nimport './Step2.scss'\n\n\nconst formatSelect = [{\n    label: '初次申请',\n    value: 1\n}, {\n    label: '2年到期审验换证',\n    value: 2\n}, {\n    label: '补发申请',\n    value: 3\n}]\n\nconst sortSelect = [{\n    label: '驾驶证',\n    value: 1\n}, {\n    label: '丁类证书',\n    value: 2\n}, {\n    label: '培训合格证',\n    value: 3\n}]\n\n\n\nexport default class Step2 extends Component {\n\n    constructor(props) {\n        super(props)\n        this.sc = window.sc\n        this.state = {\n            format: 0, //格式\n            sort: 0, //种类\n        }\n    }\n\n    componentDidMount () {\n        let form = get('form')\n        if (form) {\n            let { format, sort } = form\n            this.setState({\n                format, sort\n            })\n        }\n    }\n\n\n    render () {\n        let { format, sort } = this.state\n        return (\n            <div className='step2'>\n                <Steps activeStep={2} />\n                <div className=\"content\">\n\n                    <Picker data={formatSelect}\n                        cols={1}\n                        title=\"申请证书格式\"\n                        extra=\"请选择\"\n                        value={format ? [format] : []}\n                        onChange={v => this.onChange(v, 'format')}\n                        className=\"forss\">\n                        <List.Item arrow=\"horizontal\" className='item'><span className='red'>*</span>申请证书格式</List.Item>\n                    </Picker>\n                    <Picker data={sortSelect}\n                        cols={1}\n                        title=\"申请适任证书种类\"\n                        extra=\"请选择\"\n                        value={sort ? [sort] : []}\n                        onChange={v => this.onChange(v, 'sort')}\n                        className=\"forss\">\n                        <List.Item arrow=\"horizontal\" className='item'><span className='red'>*</span>申请适任证书种类</List.Item>\n                    </Picker>\n\n\n                </div>\n                <div className=\"btnsWrap\">\n                    <div className=\"btns\">\n                        <button className='btn' onClick={_ => this.props.history.go(-1)}>\n                            上一步\n                        </button>\n                        <button className='btn' onClick={_ => this.onComfirm()}>\n                            下一步\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n\n    }\n\n    onComfirm () {\n        let { sc } = this\n        let { format, sort } = this.state\n        if (!format) {\n            sc.toast({\n                type: 'text',\n                text: '请选择申请证书格式',\n                detailText: ''\n            });\n            return\n        }\n\n        if (!sort) {\n            sc.toast({\n                type: 'text',\n                text: '请选择申请适任证书种类',\n                detailText: ''\n            });\n            return\n        }\n        let form = get('form')\n        if (form) {\n            form.format = format\n            form.sort = sort\n\n            set('form', form)\n        } else {\n            set('form', {\n                format, sort\n            })\n        }\n\n        this.props.history.push('step3')\n    }\n    onChange (v, type) {\n        if (v && v.length) {\n            let state = {}\n            state[type] = v[0]\n            this.setState(\n                { ...state }\n            )\n        }\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}